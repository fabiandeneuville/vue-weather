(function(){"use strict";var t={7577:function(t,e,r){var s=r(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("headerBlock"),e("searchBlock"),e("weatherDisplay"),e("footerBlock")],1)},n=[],i=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",{staticClass:"header__heading"},[t._v("Vue Weather")])])}],u={name:"headerBlock",data(){return{}}},l=u,c=r(1001),_=(0,c.Z)(l,i,o,!1,null,null,null),p=_.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("label",{staticClass:"search__label",attrs:{for:"position"}},[t._v("Entrez le nom d'une ville")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestLocation,expression:"requestLocation"}],staticClass:"search__input",attrs:{type:"text",id:"position",name:"position",spellcheck:"false"},domProps:{value:t.requestLocation},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getMeteo.apply(null,arguments)},input:function(e){e.target.composing||(t.requestLocation=e.target.value)}}}),e("button",{staticClass:"search__button pill-button",on:{click:t.getMeteo}},[t._v("Valider")]),e("p",{staticClass:"search__error"},[t._v(t._s(t.errorMessage))])])},d=[],f=r(6265),m=r.n(f),v=r(3822);s.ZP.use(v.ZP);var y=new v.ZP.Store({state:{displayWeather:!1,location:void 0,country:void 0,countryFlagUrl:void 0,description:void 0,iconUrl:void 0,temperature:void 0,humidity:void 0,sunrise:void 0,sunset:void 0},getters:{},mutations:{displayWeather(t,e){t.displayWeather=e},setLocation(t,e){t.location=e},setCountry(t,e){t.country=e},setCountryFlagUrl(t,e){t.countryFlagUrl=e},setDescription(t,e){t.description=e},setIconUrl(t,e){t.iconUrl=e},setTemperature(t,e){t.temperature=e},setHumidity(t,e){t.humidity=e},setSunrise(t,e){t.sunrise=e},setSunset(t,e){t.sunset=e}},actions:{}}),g={name:"searchBlock",data(){return{requestLocation:"",api_key:"8e30fde91e58923c2e6df1fbcaa4beb7",requestUrl:"https://api.openweathermap.org/data/2.5/weather?",errorMessage:""}},methods:{formatTime(t){return t<10?"0"+t:t},convertTimeStamp(t){const e=new Date(1e3*t),r=e.getHours(),s=e.getMinutes(),a=`${this.formatTime(r)}:${this.formatTime(s)}`;return a},getMeteo(){""===this.requestLocation?this.displayErrorMessage("Veuillez-renseigner un nom de ville !"):(this.removeErrorMessage(),m().get(`${this.requestUrl}q=${this.requestLocation}&units=metric&appid=${this.api_key}&lang=fr`).then((t=>{const e=`http://openweathermap.org/img/wn/${t.data.weather[0].icon}@2x.png`;y.commit("setLocation",t.data.name),y.commit("setCountry",t.data.sys.country),y.commit("setCountryFlagUrl",this.getCountryFlag(t.data.sys.country)),y.commit("setDescription",t.data.weather[0].description),y.commit("setIconUrl",e),y.commit("setTemperature",t.data.main.temp+"°C"),y.commit("setHumidity",t.data.main.humidity+"%"),y.commit("setSunrise",this.convertTimeStamp(t.data.sys.sunrise)),y.commit("setSunset",this.convertTimeStamp(t.data.sys.sunset)),y.commit("displayWeather",!0)})).catch((()=>{this.displayErrorMessage("Destination introuvable. Veuillez essayer avec une orthographe différente.")})))},displayErrorMessage(t){this.errorMessage=t},removeErrorMessage(){this.errorMessage=""},getCountryFlag(t){return`https://countryflagsapi.com/png/${t}`}}},w=g,C=(0,c.Z)(w,h,d,!1,null,null,null),b=C.exports,k=function(){var t=this,e=t._self._c;return t.displayWeather?e("div",{staticClass:"weather"},[e("div",{staticClass:"weather__location weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Ville :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.location))])]),e("div",{staticClass:"weather__country weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Pays :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.country))]),e("img",{staticClass:"weather__country__flag",attrs:{src:t.countryFlagUrl}})]),e("div",{staticClass:"weather__description weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Temps :")]),e("img",{attrs:{src:t.iconUrl,alt:t.description}}),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.description))])]),e("div",{staticClass:"weather__temperature weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Température :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.temperature))])]),e("div",{staticClass:"weather__humidity weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Humidité :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.humidity))])]),e("div",{staticClass:"weather__sunrise weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Lever du soleil :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.sunrise))])]),e("div",{staticClass:"weather__sunset weather__info"},[e("span",{staticClass:"weather__info__legend"},[t._v("Coucher du soleil :")]),e("p",{staticClass:"weather__info__text"},[t._v(t._s(t.sunset))])])]):t._e()},x=[],U={name:"weatherDisplay",computed:{displayWeather(){return y.state.displayWeather},location(){return y.state.location},country(){return y.state.country},countryFlagUrl(){return y.state.countryFlagUrl},description(){return y.state.description},iconUrl(){return y.state.iconUrl},temperature(){return y.state.temperature},humidity(){return y.state.humidity},sunrise(){return y.state.sunrise},sunset(){return y.state.sunset}}},M=U,O=(0,c.Z)(M,k,x,!1,null,null,null),T=O.exports,F=function(){var t=this,e=t._self._c;return e("div",[e("footer",{staticClass:"footer"},[e("p",{staticClass:"footer__text"},[t._v("Les données météo proviennent de l'API "),e("a",{attrs:{href:t.apiUrl,target:"blank"}},[t._v("OpenWeather")])]),e("p",{staticClass:"footer__text"},[t._v("Fabian Deneuville - "+t._s(t.currentYear))])])])},L=[],P={name:"footerBlock",data(){return{apiUrl:"https://openweathermap.org/current",currentYear:void 0}},methods:{getCurrentYear(){const t=(new Date).getFullYear();this.currentYear=t}},created(){this.getCurrentYear()}},Z=P,q=(0,c.Z)(Z,F,L,!1,null,null,null),B=q.exports,D={name:"App",components:{headerBlock:p,searchBlock:b,weatherDisplay:T,footerBlock:B}},E=D,W=(0,c.Z)(E,a,n,!1,null,null,null),S=W.exports,$=r(8125),Y=r(7749),j=r(8321);$.vI.add(j.YHc),s.ZP.component("font-awesome-icon",Y.GN),s.ZP.config.productionTip=!1,new s.ZP({created(){document.documentElement.setAttribute("lang","fr")},render:t=>t(S),store:y}).$mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,n){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var o=!0,u=0;u<s.length;u++)(!1&n||i>=n)&&Object.keys(r.O).every((function(t){return r.O[t](s[u])}))?s.splice(u--,1):(o=!1,n<i&&(i=n));if(o){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,i=s[0],o=s[1],u=s[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(u)var c=u(r)}for(e&&e(s);l<i.length;l++)n=i[l],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(c)},s=self["webpackChunkvue_weather"]=self["webpackChunkvue_weather"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(7577)}));s=r.O(s)})();
//# sourceMappingURL=app.c6ec3720.js.map